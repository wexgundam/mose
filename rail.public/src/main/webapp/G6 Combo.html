<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>G6 Combo</title>
    <script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g6-3.5.0/dist/g6.min.js"></script>
    <script src="D:\develop\ui\metronic_v4.7.5\_start\plugins\jquery.min.js"></script>
    <!--<script src="assets/g6/polygon.js"></script>-->
</head>
<body>
    <div id="mountNode"></div>
    <script>
        //背景图片
        G6.registerCombo('backgroundCombo', {
            drawShape(cfg, group) {
                // Get the padding from the configuration
                cfg.padding = [0, 0, 0, 0];
                const image = group.addShape('image', {
                    attrs: {
                        x: -200,
                        y: -200,
                        width: 400,
                        height: 400,
                        img: 'http://localhost/china-map.png',
                    },
                    draggable: true,
                    name: 'combo-keyShape2'
                });
                return image;
            },
        }, 'rect');
        //背景边界
        G6.registerNode('backgroundPath', {
            drawShape(cfg, group) {
                const rect = group.addShape('path', {
                    attrs: {
                        ...cfg.style,
                        path: cfg.path,
                    },
                    // must be assigned in G6 3.3 and later versions. it can be any value you want
                    name: 'path-shape',
                });
                return rect;
            },
        }, 'rect');


        const data = {
            nodes: [
                {
                    id: 'backgroundPath',
                    type: 'backgroundPath',
                    comboId: 'backgroundCombo',
                    x: 0,
                    y: 0,
                    path: 'M 0,0 L 0,399 L 399,399 L 399,0 Z',
                    style: {
                        stroke: '#000',
                        lineWidth: 1,
                        strokeOpacity: 0,
                    },
                },
                {id: 'node1', x: 100, y: 100, size: 10, comboId: 'backgroundCombo'},
                {id: 'node2', x: 200, y: 200, size: 30, comboId: 'backgroundCombo'},
            ],
            combos: [
                {id: 'backgroundCombo', type: 'backgroundCombo'},
            ]
        };


        const graph = new G6.Graph({
            container: 'mountNode',
            width: 500,
            height: 500,
            // 内置交互
            modes: {
                default: ['drag-canvas', 'zoom-canvas', 'drag-combo', 'click-select'],
            },
        });
//        // 鼠标进入节点
//        graph.on('node:mouseenter', e => {
//            const nodeItem = e.item; // 获取鼠标进入的节点元素对象
//            graph.setItemState(nodeItem, 'hover', true); // 设置当前节点的 hover 状态为 true
//        });
//
//        // 鼠标离开节点
//        graph.on('node:mouseleave', e => {
//            const nodeItem = e.item; // 获取鼠标离开的节点元素对象
//            graph.setItemState(nodeItem, 'hover', false); // 设置当前节点的 hover 状态为 false
//        });

        graph.data(data);
        graph.render();
    </script>
</body>
</html>